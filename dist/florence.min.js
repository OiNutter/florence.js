var florence=function(t,e){function n(t){return t.toLowerCase()}function r(t){return L?L+t:n(t)}function i(t){if("object"!=typeof t)return[];var e,n=[];for(e in t)n.push(e);return n}function a(t){if("object"!=typeof t)return[];var e,n=[];for(e in t)n.push(t[e]);return n}function l(t,e){var n,r;for(n in e)if(a(t[n]).length>0&&a(e[n]).length>0)for(r in e[n])t[n][r]=e[n][r];else t[n]=e[n];return t}function o(t){var e=window.getComputedStyle?window.getComputedStyle(t,null):t.currentStyle;return{height:parseFloat(e.height)+(parseFloat(e.paddingTop)||0)+(parseFloat(e.paddingBottom)||0)+(parseFloat(e.borderTopWidth)||0)+(parseFloat(e.borderBottomWidth)||0),width:parseFloat(e.width)+(parseFloat(e.paddingLeft)||0)+(parseFloat(e.paddingRight)||0)+(parseFloat(e.borderLeftWidth)||0)+(parseFloat(e.borderRightWidth)||0),margin:{top:parseFloat(e.marginTop)||0,right:parseFloat(e.marginRight)||0,bottom:parseFloat(e.marginBottom)||0,left:parseFloat(e.marginLeft)||0},padding:{top:parseFloat(e.paddingTop)||0,right:parseFloat(e.paddingRight)||0,bottom:parseFloat(e.paddingBottom)||0,left:parseFloat(e.paddingLeft)||0}}}function s(t){return t._zid||(t._zid=X++)}function u(t,e,n){var r,i,a=s(t),l=e.split(" ");for(D[a]||(D[a]={}),r=0;r<l.length;r++)i=l[r],D[a][i]||(D[a][i]=[]),D[a][i].push(n),t.addEventListener?t.addEventListener(i,n,!1):t.attachEvent(i,n)}function p(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent(e,n)}function f(t,e,n){var r=s(t);if(D[r]&&D[r][e])for(var i=0;i<D[r][e].length;i++)(null==n||n==D[r][e][i])&&(D[r][e].splice(i,1),p(t,e,D[r][e][i]))}function g(t,e,n){return parseFloat(t+(e-t)*n).toFixed(3)}function d(t,e,n){return t.substr(e,n||1)}function h(t,e,n){for(var r,i,a,l=2,o=[],s=[];r=3,i=arguments[l-1],l--;)if("r"==d(i,0))for(i=i.match(/\d+/g);r--;)o.push(~~i[r]);else for(4==i.length&&(i="#"+d(i,1)+d(i,1)+d(i,2)+d(i,2)+d(i,3)+d(i,3));r--;)o.push(parseInt(d(i,1+2*r,2),16));for(;r--;)a=~~(o[r+3]+(o[r]-o[r+3])*n),s.push(0>a?0:a>255?255:a);return"rgb("+s.join(",")+")"}function c(t){var e=parseFloat(t),n=t.replace(/^[\-\d\.]+/,"");return isNaN(e)?{v:n,f:h,u:""}:{v:e,f:g,u:n}}function y(t,e,n){var i,a,l,o,s,p,g=[],d=(new Date).getTime(),h=1e3*F.duration,y=d+h,m=t.currentStyle?t.currentStyle:getComputedStyle(t,null),v={},w={};if(""!=q){for(i in e)g.push(i);t.style.setProperty(q+"transition-property",g.join(", "),""),t.style.setProperty(q+"transition-duration",F.duration+"s",""),t.style.setProperty(q+"transition-timing-function",F.easing,""),f(t,r("TransitionEnd")),F.duration>0&&u(t,r("TransitionEnd"),n);for(i in e)t.style[i]=e[i]}else{for(l in e)w[l]=c(e[l]);for(l in e)v[l]=c("opacity"===l?k(m):m[l]);a=setInterval(function(){o=(new Date).getTime(),s=o>y?1:(o-d)/h;for(l in w)p=w[l].f(v[l].v,w[l].v,O[F.easing](s))+w[l].u,"opacity"===l?z(t,p):t.style[l]=p;o>y&&(clearInterval(a),void 0!==n&&n.call())},10)}}function m(){if(V){var t=ae.width+ae.padding.left+ae.padding.right+ae.margin.left+ae.margin.right,e=Math.abs(parseInt(P.style.left)%t);A=parseInt(P.style.left),0!=e&&v(e>t/2?t-e+se.padding.left:-(e+se.margin.left),!0),V=null}}function v(t,e){null==e&&(e=!1),-oe>A-t&&(t=A+oe),A-t>0&&(t=A),e?y(P,{left:A-t+"px"}):P.style.left=A-t+"px"}function w(){var t,e,n=0,r=0,i=0,a=0,l=0,s=0,u=0,p=0,f=0,g=0;for(t=0;t<S.length;t++)e=o(S[t]),l=e.padding.left+e.padding.right,s=e.padding.top+e.padding.bottom,f=e.margin.left+e.margin.right,g=e.margin.top+e.margin.bottom,l>i&&(i=l),s>a&&(a=s),f>u&&(u=f),g>p&&(p=g),e.width>n&&(n=e.width-i),e.height>r&&(r=e.height-a);for("auto"!=F.numVisible&&n+u>se.width/F.numVisible&&(n=Math.floor(se.width/F.numVisible)-i-u),r+p>se.height&&(r=se.height-a-p),t=0;t<S.length;t++)S[t].style.position="absolute",S[t].style.width=n+"px",S[t].style.height=r+"px",S[t].style.left="0px",S[t].style.top="0px",W?S[t].style.opacity=1:S[t].style.filter="alpha(opacity=100)";ae=o(S[0])}var b,x,F,P,S,V,A,I={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},E=window.document,M=E.createElement("div"),T={},O={ease:function(t){return-Math.cos(t*Math.PI)/2+.5},linear:function(t){return t}},j=!1,q="",L="",C=[],R=[],W="string"==typeof M.style.opacity,B="string"==typeof M.style.filter,N=/alpha\(opacity=([^\)]+)\)/,z=function(){},k=function(){return"1"},D={},X=1,_=function(){return!0};W?(z=function(t,e){t.style.opacity=parseFloat(e)},k=function(t){return t.opacity}):B&&(z=function(t,e){var n=t.style;e=parseFloat(e),N.test(n.filter)?(e=e>=.9999?"":"alpha(opacity="+100*e+")",n.filter=n.filter.replace(N,e)):n.filter+=" alpha(opacity="+100*e+")"},k=function(t){var e=t.filter.match(N);return(e?e[1]/100:1)+""});var G=function(){if(0!=b){var t=ae.width+ae.padding.left+ae.padding.right+ae.margin.left+ae.margin.right;y(P,{left:parseInt(P.style.left)+t+"px"}),b--}},H=function(){if(!(b+F.numVisible>=C.length)){var t=ae.width+ae.padding.left+ae.padding.right+ae.margin.left+ae.margin.right;y(P,{left:parseInt(P.style.left)-t+"px"}),b++}},J=function(t,e){if(j||C.length<=F.numVisible)return!1;null==e&&(e=!0);var n,r,i,a,l="string"==typeof t?x.querySelector(t):t,o=C.indexOf(l);-1!=o&&(n=o-(Math.ceil(F.numVisible/2)-1),r=ae.width+ae.padding.left+ae.padding.right+ae.margin.left+ae.margin.right,0>n&&(n=0),n+F.numVisible>=C.length&&(n=C.length-F.numVisible),i=n-b,b=n,a=parseInt(P.style.left)-r*i+"px",e?y(P,{left:a}):P.style.left=a)},K=function(t){if(V){var e=V-t.clientX;v(e)}},b=function(){return b},Q=function(){return C.length},U=function(t){{var e=C.indexOf(t);currentPage()}return numPerPage=F.rows*F.numVisible,start=(currentPage()-1)*numPerPage,end=start+numPerPage<=C.length?start+numPerPage:C.length,-1!=e&&e>=start&&end>e},Y=function(t){if(!S.length)return!1;var e,n,r,i,a=0,l=0,o={};for(("string"==typeof t||Array.isArray(t))&&("string"==typeof t&&(t=[t]),r="(?=.*\\b("+t.join(")\\b)(?=.*\\b(")+")\\b)",t=function(t){return new RegExp(r).test(t.className)}),_=t,C=[],y(P,{left:se.padding.left+"px"}),n=0;n<R.length;n++)i=R[n],t(i)?(C.push(i),e=(ae.width+ae.margin.right+ae.margin.left)*a+se.width*l,o={top:"0px",left:e+"px",opacity:"1"},a++):o={opacity:"0"},y(R[n],o);return b=0,oe=C.length*(ae.width+ae.padding.left+ae.padding.right+ae.margin.left+ae.margin.right)-se.width,C},Z=function(t,e){if(!S.length)return!1;null==e&&(e=!0);var n,r,i,a=0,l=0,o={},s=[];for(R=[],r=0;r<t.length;r++)i="string"==typeof t[r]?x.querySelector(t[r]):t[r],R.push(i),-1!=C.indexOf(i)&&(s.push(i),n=(ae.width+ae.margin.right+ae.margin.left)*a+se.width*l,o={top:"0px",left:n+"px",opacity:"1"},e?y(i,o):(i.style.top=o.top,i.style.left=o.left,W?S[r].style.opacity=o.opacity:S[r].style.filter="alpha(opacity="+10*parseInt(o.opacity)+")"),a++);return C=s,b=0,R},$=function(t){var e;for(P.style.left=se.padding.left+"px",C=R=[],e=0;e<S.length;e++)C.push(S[e]);R=C,Z(R,t),oe=C.length*(ae.width+ae.padding.left+ae.padding.right+ae.margin.left+ae.margin.right)-se.width},te=function(){S=x.querySelectorAll(F.selector),w(),$()},ee=function(t,e){var n=_(t);return t.style.position="absolute",t.style.width=ae.width-ae.padding.left-ae.padding.right+"px",t.style.height=ae.height-ae.padding.top-ae.padding.bottom+"px",t.style.left=se.width+50+"px",W?t.style.opacity=n?1:0:t.style.filter="alpha(opacity="+(n?100:0)+")",P.appendChild(t),n&&C.splice(e-1,0,t),null!=e?R.splice(e-1,0,t):R.push(t),S=x.querySelectorAll(F.selector),Z(R),C},ne=function(t){var e=C.indexOf(t),n=e==C.length-1&&C.length%(F.rows*F.numVisible)==1;return R.splice(R.indexOf(t),1),C.splice(e,1),P.removeChild(t),S=x.querySelectorAll(F.selector),C.length&&Z(R),n&&J(currentPage()-1),C},re=function(){return C.slice((currentPage()-1)*F.numVisible,F.numVisible)},ie=function(){return C};if("string"==typeof t&&null==E.querySelector(t))throw"Element "+t+" does not exist!";if(x="string"==typeof t?E.querySelector(t):t,F=l({selector:"div.florence-item",numVisible:"auto",duration:.5,easing:"ease",slider:"div.florence-slider",width:null,height:null,start:1},e),x.style.overflow="hidden",""==x.style.position&&(x.style.position="relative"),null!=F.width&&(x.style.width=F.width+"px"),null!=F.height&&(x.style.height=F.height+"px"),S=x.querySelectorAll(F.selector),!S.length)throw"Gallery is empty";var ae,le,P,oe,se=o(x),ue=a(I),pe=i(I);return"auto"==F.numVisible&&(ae=o(S[0]),le=ae.width+ae.margin.left+ae.margin.right,F.numVisible=Math.floor(se.width/le)),w(),b=F.start-1,P=x.querySelector(F.slider),P.style.left=se.padding.left+"px",P.style.position="relative",u(x,"mousedown",function(t){V=t.clientX-t.currentTarget.style.left,A=parseInt(P.style.left)}),u(E,"mouseleave",m),u(x,"mouseleave",m),u(E,"mouseup",m),u(x,"mousemove",K),function(){for(var t=0;t<pe.length;t++)if(void 0!==M.style[pe[t]+"TransitionProperty"])return q="-"+n(pe[t])+"-",L=ue[t],!1}(),T[q+"transition-property"]=T[q+"transition-duration"]=T[q+"transition-timing-function"]=T[q+"animation-name"]=T[q+"animation-duration"]="",$(!1),{reset:$,reload:te,order:Z,filter:Y,prev:G,next:H,jumpTo:J,drag:K,currentItem:b,numItems:Q,remove:ne,add:ee,isVisible:U,getVisible:re,getCurrent:ie}};Array.isArray||(Array.isArray=function(t){return"[object Array]"==Object.prototype.toString.call(t)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){"use strict";if(null==this)throw new TypeError;var e,n,r=Object(this),i=r.length>>>0;if(0===i)return-1;if(e=0,arguments.length>0&&(e=Number(arguments[1]),e!=e?e=0:0!=e&&1/0!=e&&e!=-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e)))),e>=i)return-1;for(n=e>=0?e:Math.max(i-Math.abs(e),0);i>n;n++)if(n in r&&r[n]===t)return n;return-1});