var florence=function(t,e){function i(t){return t.toLowerCase()}function n(t){return q?q+t:i(t)}function r(t){if("object"!=typeof t)return[];var e,i=[];for(e in t)i.push(e);return i}function o(t){if("object"!=typeof t)return[];var e,i=[];for(e in t)i.push(t[e]);return i}function a(t,e){var i,n;for(i in e)if(o(t[i]).length>0&&o(e[i]).length>0)for(n in e[i])t[i][n]=e[i][n];else t[i]=e[i];return t}function l(t){var e=window.getComputedStyle?window.getComputedStyle(t,null):t.currentStyle;return{height:parseFloat(e.height)+(parseFloat(e.paddingTop)||0)+(parseFloat(e.paddingBottom)||0)+(parseFloat(e.borderTopWidth)||0)+(parseFloat(e.borderBottomWidth)||0),width:parseFloat(e.width)+(parseFloat(e.paddingLeft)||0)+(parseFloat(e.paddingRight)||0)+(parseFloat(e.borderLeftWidth)||0)+(parseFloat(e.borderRightWidth)||0),margin:{top:parseFloat(e.marginTop)||0,right:parseFloat(e.marginRight)||0,bottom:parseFloat(e.marginBottom)||0,left:parseFloat(e.marginLeft)||0},padding:{top:parseFloat(e.paddingTop)||0,right:parseFloat(e.paddingRight)||0,bottom:parseFloat(e.paddingBottom)||0,left:parseFloat(e.paddingLeft)||0}}}function s(t){return t._zid||(t._zid=X++)}function p(t,e,i){var n,r,o=s(t),a=e.split(" ");for(D[o]||(D[o]={}),n=0;n<a.length;n++)r=a[n],D[o][r]||(D[o][r]=[]),D[o][r].push(i),t.addEventListener?t.addEventListener(r,i,!1):t.attachEvent(r,i)}function u(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent(e,i)}function f(t,e,i){var n=s(t);if(D[n]&&D[n][e])for(var r=0;r<D[n][e].length;r++)(null==i||i==D[n][e][r])&&(D[n][e].splice(r,1),u(t,e,D[n][e][r]))}function d(t,e,i){return parseFloat(t+(e-t)*i).toFixed(3)}function g(t,e,i){return t.substr(e,i||1)}function h(t,e,i){for(var n,r,o,a=2,l=[],s=[];n=3,r=arguments[a-1],a--;)if("r"==g(r,0))for(r=r.match(/\d+/g);n--;)l.push(~~r[n]);else for(4==r.length&&(r="#"+g(r,1)+g(r,1)+g(r,2)+g(r,2)+g(r,3)+g(r,3));n--;)l.push(parseInt(g(r,1+2*n,2),16));for(;n--;)o=~~(l[n+3]+(l[n]-l[n+3])*i),s.push(0>o?0:o>255?255:o);return"rgb("+s.join(",")+")"}function c(t){var e=parseFloat(t),i=t.replace(/^[\-\d\.]+/,"");return isNaN(e)?{v:i,f:h,u:""}:{v:e,f:d,u:i}}function y(t,e,i){var r,o,a,l,s,u,d=[],g=(new Date).getTime(),h=1e3*F.duration,y=g+h,m=t.currentStyle?t.currentStyle:getComputedStyle(t,null),v={},w={};if(""!=L){for(r in e)d.push(r);t.style.setProperty(L+"transition-property",d.join(", "),""),t.style.setProperty(L+"transition-duration",F.duration+"s",""),t.style.setProperty(L+"transition-timing-function",F.easing,""),f(t,n("TransitionEnd")),F.duration>0&&p(t,n("TransitionEnd"),i);for(r in e)t.style[r]=e[r]}else{for(a in e)w[a]=c(e[a]);for(a in e)v[a]=c("opacity"===a?k(m):m[a]);o=setInterval(function(){l=(new Date).getTime(),s=l>y?1:(l-g)/h;for(a in w)u=w[a].f(v[a].v,w[a].v,O[F.easing](s))+w[a].u,"opacity"===a?z(t,u):t.style[a]=u;l>y&&(clearInterval(o),void 0!==i&&i.call())},10)}}function m(){if(V){var t=ne.width+ne.padding.left+ne.padding.right+ne.margin.left+ne.margin.right,e=Math.abs(parseInt(P.style.left)%t);I=parseInt(P.style.left),0!=e&&v(e>t/2?t-e+ae.padding.left:-(e+ae.margin.left),!0),V=null}}function v(t,e){null==e&&(e=!1),-oe>I-t&&(t=I+oe),I-t>0&&(t=I),e?y(P,{left:I-t+"px"}):P.style.left=I-t+"px"}function w(){var t,e=0,i=0,n=0,r=0,o=0,a=0,s=0,p=0,u=0,f=0;for(t=0;t<S.length;t++)dimensions=l(S[t]),o=dimensions.padding.left+dimensions.padding.right,a=dimensions.padding.top+dimensions.padding.bottom,u=dimensions.margin.left+dimensions.margin.right,f=dimensions.margin.top+dimensions.margin.bottom,o>n&&(n=o),a>r&&(r=a),u>s&&(s=u),f>p&&(p=f),dimensions.width>e&&(e=dimensions.width-n),dimensions.height>i&&(i=dimensions.height-r);for("auto"!=F.numVisible&&e+s>ae.width/F.numVisible&&(e=Math.floor(ae.width/F.numVisible)-n-s),i+p>ae.height&&(i=ae.height-r-p),t=0;t<S.length;t++)S[t].style.position="absolute",S[t].style.width=e+"px",S[t].style.height=i+"px",S[t].style.left="0px",S[t].style.top="0px",W?S[t].style.opacity=1:S[t].style.filter="alpha(opacity=100)";ne=l(S[0])}var b,x,F,P,S,V,I,A={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},E=window.document,M=E.createElement("div"),T={},O={ease:function(t){return-Math.cos(t*Math.PI)/2+.5},linear:function(t){return t}},j=!1,L="",q="",C=[],R=[],W="string"==typeof M.style.opacity,B="string"==typeof M.style.filter,N=/alpha\(opacity=([^\)]+)\)/,z=function(){},k=function(){return"1"},D={},X=1,_=function(){return!0};W?(z=function(t,e){t.style.opacity=parseFloat(e)},k=function(t){return t.opacity}):B&&(z=function(t,e){var i=t.style;e=parseFloat(e),N.test(i.filter)?(e=e>=.9999?"":"alpha(opacity="+100*e+")",i.filter=i.filter.replace(N,e)):i.filter+=" alpha(opacity="+100*e+")"},k=function(t){var e=t.filter.match(N);return(e?e[1]/100:1)+""});var G=function(){if(0!=b){var t=ne.width+ne.padding.left+ne.padding.right+ne.margin.left+ne.margin.right;y(P,{left:parseInt(P.style.left)+t+"px"}),b--}},H=function(){if(!(b+F.numVisible>=C.length)){var t=ne.width+ne.padding.left+ne.padding.right+ne.margin.left+ne.margin.right;y(P,{left:parseInt(P.style.left)-t+"px"}),b++}},J=function(t,e){if(j)return!1;null==e&&(e=!0);var i,n,r,o,a="string"==typeof t?x.querySelector(t):t,l=C.indexOf(a);-1!=l&&(i=l-(Math.ceil(F.numVisible/2)-1),n=ne.width+ne.padding.left+ne.padding.right+ne.margin.left+ne.margin.right,0>i&&(i=0),i+F.numVisible>=C.length&&(i=C.length-F.numVisible),r=i-b,b=i,o=parseInt(P.style.left)-n*r+"px",e?y(P,{left:o}):P.style.left=o)},K=function(t){if(V){var e=V-t.clientX;v(e)}},b=function(){return b},Q=function(){return C.length},U=function(t){var e=C.indexOf(t);return currentPage(),numPerPage=F.rows*F.numVisible,start=(currentPage()-1)*numPerPage,end=start+numPerPage<=C.length?start+numPerPage:C.length,-1!=e&&e>=start&&end>e},Y=function(t){if(!S.length)return!1;var e,i,n,r,o=0,a=0,l={};for(("string"==typeof t||Array.isArray(t))&&("string"==typeof t&&(t=[t]),n="(?=.*\\b("+t.join(")\\b)(?=.*\\b(")+")\\b)",t=function(t){return new RegExp(n).test(t.className)}),_=t,C=[],y(P,{left:ae.padding.left+"px"}),i=0;i<R.length;i++)r=R[i],t(r)?(C.push(r),e=(ne.width+ne.margin.right+ne.margin.left)*o+ae.width*a,l={top:"0px",left:e+"px",opacity:"1"},o++):l={opacity:"0"},y(R[i],l);return b=0,oe=C.length*(ne.width+ne.padding.left+ne.padding.right+ne.margin.left+ne.margin.right)-ae.width,C},Z=function(t,e){if(!S.length)return!1;null==e&&(e=!0);var i,n,r,o=0,a=0,l={},s=[];for(R=[],n=0;n<t.length;n++)r="string"==typeof t[n]?x.querySelector(t[n]):t[n],R.push(r),-1!=C.indexOf(r)&&(s.push(r),i=(ne.width+ne.margin.right+ne.margin.left)*o+ae.width*a,l={top:"0px",left:i+"px",opacity:"1"},e?y(r,l):(r.style.top=l.top,r.style.left=l.left,W?S[n].style.opacity=l.opacity:S[n].style.filter="alpha(opacity="+10*parseInt(l.opacity)+")"),o++);return C=s,b=0,R},$=function(t){var e;for(C=R=[],e=0;e<S.length;e++)C.push(S[e]);R=C,Z(R,t),oe=C.length*(ne.width+ne.padding.left+ne.padding.right+ne.margin.left+ne.margin.right)-ae.width},te=function(t,e){var i=_(t);return t.style.position="absolute",t.style.width=ne.width-ne.padding.left-ne.padding.right+"px",t.style.height=ne.height-ne.padding.top-ne.padding.bottom+"px",t.style.left=ae.width+50+"px",W?t.style.opacity=i?1:0:t.style.filter="alpha(opacity="+(i?100:0)+")",P.appendChild(t),i&&C.splice(e-1,0,t),null!=e?R.splice(e-1,0,t):R.push(t),S=x.querySelectorAll(F.selector),Z(R),C},ee=function(t){var e=C.indexOf(t),i=e==C.length-1&&1==C.length%(F.rows*F.numVisible);return R.splice(R.indexOf(t),1),C.splice(e,1),P.removeChild(t),S=x.querySelectorAll(F.selector),C.length&&Z(R),i&&J(currentPage()-1),C},ie=function(){return C.slice((currentPage()-1)*F.numVisible,F.numVisible)};if("string"==typeof t&&null==E.querySelector(t))throw"Element "+t+" does not exist!";if(x="string"==typeof t?E.querySelector(t):t,F=a({selector:"div.florence-item",numVisible:"auto",duration:.5,easing:"ease",slider:"div.florence-slider",width:null,height:null,start:1},e),x.style.overflow="hidden",""==x.style.position&&(x.style.position="relative"),null!=F.width&&(x.style.width=F.width+"px"),null!=F.height&&(x.style.height=F.height+"px"),S=x.querySelectorAll(F.selector),!S.length)throw"Gallery is empty";var ne,re,P,oe,ae=l(x),le=o(A),se=r(A);return"auto"==F.numVisible&&(ne=l(S[0]),re=ne.width+ne.margin.left+ne.margin.right,F.numVisible=Math.floor(ae.width/re)),w(),b=F.start-1,P=x.querySelector(F.slider),P.style.left=ae.padding.left+"px",P.style.position="relative",p(x,"mousedown",function(t){V=t.clientX-t.currentTarget.style.left,I=parseInt(P.style.left)}),p(E,"mouseup mouseleave",m),p(x,"mousemove",K),function(){for(var t=0;t<se.length;t++)if(void 0!==M.style[se[t]+"TransitionProperty"])return L="-"+i(se[t])+"-",q=le[t],!1}(),T[L+"transition-property"]=T[L+"transition-duration"]=T[L+"transition-timing-function"]=T[L+"animation-name"]=T[L+"animation-duration"]="",$(!1),{reset:$,order:Z,filter:Y,prev:G,next:H,jumpTo:J,drag:K,currentItem:b,numItems:Q,remove:ee,add:te,isVisible:U,getVisible:ie}};Array.isArray||(Array.isArray=function(t){return"[object Array]"==Object.prototype.toString.call(t)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){"use strict";if(null==this)throw new TypeError;var e,i,n=Object(this),r=n.length>>>0;if(0===r)return-1;if(e=0,arguments.length>0&&(e=Number(arguments[1]),e!=e?e=0:0!=e&&1/0!=e&&e!=-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e)))),e>=r)return-1;for(i=e>=0?e:Math.max(r-Math.abs(e),0);r>i;i++)if(i in n&&n[i]===t)return i;return-1});